################################
# ðŸ¦Ž PERIPHERY CONFIG ðŸ¦Ž #
################################

# General server settings
port = {{periphery_port}}
repo_dir = "{{ repo_dir }}"
stack_dir = "{{ stack_dir }}"
stats_polling_rate = "{{ stacks_polling_rate }}"

{#-- Only add bind_ip for Komodo >= v1.17.1 --#}
{% if (komodo_version | regex_replace('^v', '')) is version('1.17.1', '>=') %}
{{''}}
bind_ip = "{{ komodo_bind_ip }}"
{% endif %}

# Docker CLI options
legacy_compose_cli = false

###########
# Security #
###########

ssl_enabled = {{ssl_enabled | lower}}

allowed_ips = {{komodo_allowed_ips}}

{% if allowed_passkeys %}
passkeys = {{ allowed_passkeys }}
{% endif %}

###########
# Logging #
###########

logging.level = "{{logging_level}}"
logging.stdio = "{{logging_stdio}}"
logging.opentelemetry_service_name = "{{logging_opentelemetry_service_name}}"
